<!DOCTYPE html>
<html lang="en-us">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><title>
    
    Extract OpenStreetMap Features | 
    
    GIS, maps &#43; data @ Harvard Library
</title>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<link rel="canonical" href="http://localhost:1313/tutorials/openstreetmap/extractbyfeature/" />
<link rel="icon" type="image/png" href="http://localhost:1313/image/favicon.ico">


<meta name="description" content="
    Learn how to extract OpenStreetMap features by feature type, using the QuickOSM plugin for QGIS.
    "
/>
<meta property="og:description" content="
    Learn how to extract OpenStreetMap features by feature type, using the QuickOSM plugin for QGIS.
    " 
/>


<meta property="og:image" content="http://localhost:1313/tutorials/openstreetmap/extractbyfeature/gradient10.png" />






<meta property="og:title" content="Extract OpenStreetMap features" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/tutorials/openstreetmap/extractbyfeature/" /><meta property="article:section" content="tutorials" />
<meta property="article:published_time" content="2023-01-19T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-01-19T00:00:00+00:00" />





  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Extract OpenStreetMap features">
  <meta name="twitter:description" content="Learn how to extract OpenStreetMap features by feature type, using the QuickOSM plugin for QGIS.">


  <meta itemprop="name" content="Extract OpenStreetMap features">
  <meta itemprop="description" content="Learn how to extract OpenStreetMap features by feature type, using the QuickOSM plugin for QGIS.">
  <meta itemprop="datePublished" content="2023-01-19T00:00:00+00:00">
  <meta itemprop="dateModified" content="2023-01-19T00:00:00+00:00">
  <meta itemprop="wordCount" content="891">
  <meta itemprop="keywords" content="Tutorials,OpenStreetMap">




<link rel="stylesheet" href="/main.min.css">
<link rel="stylesheet" href="https://use.typekit.net/yiq3yrx.css">
<link rel="stylesheet" href="/typekit/stylesheet.css">





<script src="/bundle.js"></script>







<script data-ad-client="adsense-key" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>












</head>

<body><header id="header">
  <div class="top-bar">
    <div class="container-md">

      <div class="row align-items-center">

        <div class="ra-toggler col-3 col-sm-4 d-block d-sm-none">
          <button class="bg-dark" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <i class="fas fa-bars"></i> Menu
          </button>
        </div>

        <div class="col-12 col-sm-12">
          <h2 class="title"><a href="/">GIS, maps &#43; data @ Harvard Library</a></h2>
        </div>


      </div>
    </div>
  </div>

  <div class="container-md">
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mx-auto">



          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="/">
              Home
            </a>
          </li>
          
          
          
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
              Tutorials
            </a>
            <div class="dropdown-menu">
              
              
                <a class="dropdown-item" href="/tags/census/">Census</a>
              
              
              
                <a class="dropdown-item" href="/tags/openstreetmap/">OpenStreetMap</a>
              
              
              
                <a class="dropdown-item" href="/tags/file-formats/">File Formats</a>
              
              
              
                <a class="dropdown-item" href="/tags/georeferencing/">Georeferencing</a>
              
              
              
                <a class="dropdown-item" href="/tags/vectorization/">Vectorization</a>
              
              
              
                <a class="dropdown-item" href="/tags/spatial-analysis/">Spatial Analysis</a>
              
              
              
                <a class="dropdown-item" href="/tags/arcgis/">ArcGIS</a>
              
              
              
                <a class="dropdown-item" href="/tags/felt/">Felt</a>
              
              
              
                <a class="dropdown-item" href="/tags/qgis/">QGIS</a>
              
              
            </div>
          </li>
          
          
          
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
              Resources
            </a>
            <div class="dropdown-menu">
              
              
                <a class="dropdown-item" href="/resources/workshops">Workshops</a>
              
              
              
                <a class="dropdown-item" href="/resources/researchers-handbook">Data management</a>
              
              
              
                <a class="dropdown-item" href="/resources/finding-data">Finding data</a>
              
              
            </div>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="/tags/news">
              Blog
            </a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="/projects/">
              Projects
            </a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="/connect/">
              Connect
            </a>
          </li>
          
          
        </ul>

      </div>
    </nav>
  </div>
</header>

<main class="blog-content">
    <div class="container-md">
        <div class="row">
            
            <div class="col-lg-2 d-none d-xl-block">
                <div class="ad-left-offset"></div>
                
            </div>

            <div class="col-md-12 col-lg-8 px-lg-4">
                

                <h1 class="title">Extract OpenStreetMap features</h1>

                <div class="container-fluid px-0 mb-4">
                    <div class="row align-items-end">
                        <div class="col-md-8 date-time">
                            
                            <span class="date">
    Jan 19, 2023
</span>
                            &centerdot;
                            <span class="time-to-read">
    5 mins read</span>
                        </div>

                        <div class="col-md-4 tags ">
                            
                            <a href="/tags/tutorials"><span
                                    class="tag bg-dark">tutorials</span></a>
                            
                            <a href="/tags/openstreetmap"><span
                                    class="tag bg-dark">OpenStreetMap</span></a>
                            
                        </div>
                    </div>
                </div>

                


                <p>In the <a href="https://harvardmapcollection.github.io/tutorials/openstreetmap/how-to-extract-openstreetmap-data-layers/" target="_blank">previous OpenStreetMap (OSM) tutorial</a>
, we learned how to extract a standard set of map features from <a href="https://www.openstreetmap.org/" target="_blank">OpenStreetMap</a>
 including waterways, buildings, general points of interest, and roads.</p>
<p>In this tutorial, we will learn how to specify by <em>type</em> of feature, and extract data within a particular extent for only that type of feature.</p>
<p>No programming is required for this tutorial; we will use only a <a href="https://harvardmapcollection.github.io/tutorials/qgis/download/" target="_blank">QGIS</a>
 plugin called <code>QuickOSM</code>.</p>
<h2 id="data-availability">Data availability</h2>
<p>The list of <em>types</em> of features you can export from OSM is impressive; you can view the full list on the <a href="https://wiki.openstreetmap.org/wiki/Map_features" target="_blank">OpenStreetMap Map Features Wiki</a>
.</p>
<p><img src="media/1.gif" alt="Scrolling through the OSM Map Features wiki to show hundreds of tags including beer gardens, baby hatches, public showers, and more"></p>
<figcaption class="append"><a href="https://wiki.openstreetmap.org/wiki/Map_features">List of exportable features</a> from OSM.</figcaption>
<h2 id="limitations">Limitations</h2>
<p>It must be stated that because OpenStreetMap data is user contributed (think of OSM as the Wikipedia of maps), you can expect the data exports to be incomplete. The level of completeness depends on the happenstance of who added information for the types of features you are seeking. Still, in cases where no other known data source exists, OSM extracts can be a good place to start.</p>
<h2 id="how-it-works">How it works</h2>
<p>To best understand the data you will be exporting, it is helpful to consider how it is created. After making an account, any <a href="https://www.openstreetmap.org/" target="_blank">OpenStreetMap (OSM)</a>
 user can open the OSM editor and add features (points, lines and polygons) for phenomena in the world.</p>
<p><img src="media/1.png" alt="OpenStreetMap editor showing a map interface and a menu with text entry boxes"></p>
<figcaption class="append">The OSM editor.</figcaption>
<p>There are standards for how data should be entered and tagged, but beyond basic geometry, qualitative information about each feature is optional. That means, for instance, in some cases a restaurant may be tagged with the specific kind of ethnic cuisine, while other times the <code>cuisine</code> key field might have a blank or null value.</p>
<p><img src="media/2.gif" alt="Example of tagging by amenity"></p>
<figcaption class="append">Example of tagging using the <strong>amenity</strong> key.</figcaption>
<p>OSM defines standard ways for entering feature data, but sometimes people enter data incompletely or incorrectly.</p>
<h2 id="query-tips">Query tips</h2>
<p>For this reason, before using an export tool like the <code>QuickOSM</code> QGIS plugin we will use in this tutorial, it is helpful to do some research about how the features in question have been tagged in the area you are looking for.</p>
<p>The first step is to consult the <a href="https://wiki.openstreetmap.org/wiki/Map_features" target="_blank">OpenStreetMap Map Features Wiki</a>
 and identify how a feature is <em>supposed</em> to be tagged. For instance, if we are looking for shopping malls, we can find that the suggested key, value pair is <code>shop</code>, and <code>mall</code>, respectively.</p>
<p><img src="media/2.png" alt="Screenshot of shopping mall key/value pair in OSM wiki documentation"></p>
<figcaption class="append">The recommended key, value pair for tagging shopping mall features in OSM is <code>shop</code>, and <code>mall</code>, respectively.</figcaption>
<p>In practice, however, features can be tagged in all sorts of idiosyncratic ways.</p>
<p>In this example, the contributor tagged the building correctly using the <code>shop</code> key with the <code>mall</code> value.
<img src="media/3.png" alt="Screenshot of OpenStreetMap on a mall tagged correctly using the shop key"></p>
<p>In this example, however, the contributor used the <code>building</code> tag and entered <code>mall</code> as the value.
<img src="media/4.png" alt="Screenshot of OpenStreetMap on a mall tagged incorrectly using the building key"></p>
<p>Idiosyncracies like this are important to note, because, as we will see, queries are constructed by supplying the key value pair to the extract tool. If a significant number of the features you want are tagged differently than is outlined by the OSM standard, you will need to make note of that in your query building.</p>
<h3 id="reverse-search">Reverse search</h3>
<p>We suggest, therefore, visiting <a href="https://www.openstreetmap.org/#map=18/-6.22574/106.81122" target="_blank">OpenStreetMap (OSM)</a>
 first as a user and inspecting the attributes of a selection of your desired features to see how they are constructed. You can inspect the attributes by right-clicking an area on the map, selecting <code>Query features</code>, and clicking on the feature you are interested in. Note how the data is structured, and remember it for when you are building your query.</p>
<h2 id="how-to-export-data">How to export data</h2>
<ol>
<li>
<p>Download <a href="https://harvardmapcollection.github.io/tutorials/qgis/download/" target="_blank">QGIS</a>
 if you haven&rsquo;t already.</p>
</li>
<li>
<p>In the main (top, horizontal) QGIS menu, select <code>Plugins</code>, then <code>Manage and Install Plugins</code>.</p>
</li>
<li>
<p>Search for <code>QuickOSM</code> and install the plugin.</p>
</li>
<li>
<p>Once installed, the plugin will appear under the <code>Vector</code> menu in the main QGIS menu. Select <code>Vector</code>, then <code>QuickOSM</code>, then <code>QuickOSM</code>.</p>
</li>
</ol>
<blockquote>
<p>There are more advanced ways to build queries using this tool, but we are going to stick with the <code>QuickQuery</code>, which requires only the <code>key</code>, <code>value</code>, and <code>location</code>.
<img src="media/5.png" alt="Screenshot of the QuickQuery wizard in the QuickOSM plugin showing text inputs for key, value, and location"></p>
</blockquote>
<ol start="5">
<li>Input the following values:</li>
</ol>
<blockquote>
<p>key: <strong>shop</strong>
value: <strong>mall</strong>
location: <strong>Jakarta</strong></p>
</blockquote>
<ol start="6">
<li>Select <code>Run query</code></li>
</ol>
<p>The tool will automatically render all available features as data layers in your QGIS document. Here we can see that there is both a point and polygon layer for malls.</p>
<p><img src="media/6.png" alt="Screenshot of export">
<img src="media/7.png" alt="Zoomed in screenshot of export, two malls zoomed in"></p>
<p>If your query is returning no features, while it is possible that no features of that type have been contributed in the area you are searching, it is also highly likely you may need to construct your query differently. We suggest researching how your desired features have been tagged in OpenStreetMap, as outlined in the <a href="https://harvardmapcollection.github.io/tutorials/openstreetmap/extract-by-feature/#reverse-search" target="_blank">reverse search</a>
 section above, and trying different queries where appropriate.</p>
<blockquote>
<p>Example alternate query
key: <strong>building</strong>
value: <strong>mall</strong>
location: <strong>Jakarta</strong></p>
</blockquote>
<p>If a significant number of features have alternate tagging, you can export them separately and then later <a href="https://guides.library.duke.edu/QGIS/Merge" target="_blank">merge the shapefiles</a>
 together to create one &ldquo;complete&rdquo; layer.</p>
<p>It may be hard to see on this map below, but the key: <code>building</code>, value: <code>mall</code> query returned a not insignificant number of malls.
<img src="media/8.png" alt="Screenshot of query using building and mall key value pairs and results on the map"></p>
<p>Here is the attribute table for the results of this query, showing that it has returned thirty-three instances of malls in Jakarta.</p>
<p><img src="media/9.png" alt="Screenshot of attribute table of query using building and mall key value pairs"></p>
<p>To save the results as a new data layer, right-click the layer in the layer list and select <code>Export</code>. Choose <code>Save features as</code> and save the data someplace logical, naming the file and selecting <code>geoJSON</code> as the filetype.</p>
<div class="alert-success">
<h2>Give your feedback to improve our tutorials</h2>
<iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdpcaghuUSunvAykWz8PD56RxuZMFOHn0vdBfWn8p43MUrY5Q/viewform?usp=sf_link" width="640" height="422" frameborder="0" marginheight="0" marginwidth="0">Loadingâ€¦</iframe>
</div>


                
                <br>
                <div id="disqus_thread"></div>
<script type="text/javascript">
    (function () {
        
        
        if (window.location.hostname == "localhost")
            return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = '';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </div>

            <div class="col-lg-2 d-none d-xl-block">
                <div class="ad-right-offset"></div>
                
            </div>
        </div>
    </div>
</main>


</body>

<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-55D9M4Z" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

</html>