<!DOCTYPE html>
<html lang="en-us">

<head><title>
    
    Perform a Table Join in QGIS | 
    
    GIS, maps &#43; data @ Harvard Library
</title>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<link rel="canonical" href="https://mapping.share.library.harvard.edu/tutorials/census-data-primer/perform-a-table-join/" />
<link rel="icon" type="image/png" href="https://mapping.share.library.harvard.edu/image/favicon.ico">


<meta name="description" content="
    How to attach or merge boundaries to spreadsheet data (or perform a table join) in QGIS
    "
/>
<meta property="og:description" content="
    How to attach or merge boundaries to spreadsheet data (or perform a table join) in QGIS
    " 
/>


<meta property="og:image" content="https://mapping.share.library.harvard.edu/tutorials/census-data-primer/perform-a-table-join/2.png" />






<meta property="og:title" content="Perform a table join in QGIS" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mapping.share.library.harvard.edu/tutorials/census-data-primer/perform-a-table-join/" /><meta property="article:section" content="tutorials" />
<meta property="article:published_time" content="2023-01-17T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-01-17T00:00:00+00:00" />




<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Perform a table join in QGIS"/>
<meta name="twitter:description" content="How to attach or merge boundaries to spreadsheet data (or perform a table join) in QGIS"/>

<meta itemprop="name" content="Perform a table join in QGIS">
<meta itemprop="description" content="How to attach or merge boundaries to spreadsheet data (or perform a table join) in QGIS"><meta itemprop="datePublished" content="2023-01-17T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-01-17T00:00:00+00:00" />
<meta itemprop="wordCount" content="749">
<meta itemprop="keywords" content="tutorials,census,qgis," />




<link rel="stylesheet" href="/main.min.css">
<link rel="stylesheet" href="https://use.typekit.net/yiq3yrx.css">
<link rel="stylesheet" href="/typekit/stylesheet.css">





<script src="/bundle.js"></script>







<script data-ad-client="adsense-key" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>




    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XCNRPXZNVM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XCNRPXZNVM');
</script>



<link href='https://www.googletagmanager.com' rel="preconnect" crossorigin>
  <link rel="dns-prefetch" href='https://www.googletagmanager.com'>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-55D9M4Z');</script>





</head>

<body><header id="header">
  <div class="top-bar">
    <div class="container-md">

      <div class="row align-items-center">

        <div class="ra-toggler col-3 col-sm-4 d-block d-sm-none">
          <button class="bg-dark" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <i class="fas fa-bars"></i> Menu
          </button>
        </div>

        <div class="col-12 col-sm-12">
          <h2 class="title"><a href="/">GIS, maps &#43; data @ Harvard Library</a></h2>
        </div>


      </div>
    </div>
  </div>

  <div class="container-md">
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mx-auto">



          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="/">
              Home
            </a>
          </li>
          
          
          
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
              Tutorials
            </a>
            <div class="dropdown-menu">
              
              
                <a class="dropdown-item" href="/tags/arcgis/">ArcGIS</a>
              
              
              
                <a class="dropdown-item" href="/tutorials/census-data-primer/">Census</a>
              
              
              
                <a class="dropdown-item" href="/tags/georeferencing/">Georeferencing</a>
              
              
              
                <a class="dropdown-item" href="/tags/openstreetmap/">OpenStreetMap (OSM)</a>
              
              
              
                <a class="dropdown-item" href="/tags/qgis/">QGIS</a>
              
              
            </div>
          </li>
          
          
          
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
              Resources
            </a>
            <div class="dropdown-menu">
              
              
                <a class="dropdown-item" href="/resources/workshops">Workshops</a>
              
              
              
                <a class="dropdown-item" href="/resources/researchers-handbook">Data management</a>
              
              
              
                <a class="dropdown-item" href="/resources/finding-data">Finding data</a>
              
              
            </div>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="/tags/news">
              Blog
            </a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="/projects/">
              Projects
            </a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="/connect/">
              Connect
            </a>
          </li>
          
          
        </ul>

      </div>
    </nav>
  </div>
</header>

<main class="blog-content">
    <div class="container-md">
        <div class="row">
            <div class="col-lg-8 offset-lg-2 px-lg-4">
                <h1 class="title">Perform a Table Join in QGIS</h1>
                <p>Need help turning your spreadsheet data into a map? In this tutorial you will learn how to join <strong>tables</strong> to <strong>GIS shapefiles</strong> to create a new, mappable dataset with both geographic boundaries and statistical or attribute information.</p>
<h2 id="why-do-we-join">Why do we join?</h2>
<p>Often, spreadsheets contain useful information we want to map. GIS software, however, does not know how to translate a spreadsheet without any <em>inherent spatial information</em> (such as point coordinates) into a visual map.</p>
<p>Take, for instance, <a href="https://www.mass.gov/info-details/archive-of-covid-19-cases-in-massachusetts" target="_blank">this spreadsheet</a>
 of weekly COVID rates for each town in Massachusetts for the week of January 26, 2022.</p>
<p><img src="media/2.png" alt="Screenshot of Massachusetts COVID data in an Excel spreadsheet"></p>
<p>Despite the role of geography in this data &ndash;the data is arranged by town&ndash; if we were to bring this spreadsheet into a GIS program, the program would not know (without being told by us) which column to interpret as the &ldquo;geography&rdquo; to display visually. The formats <code>.csv</code> or <code>.xlsx</code> are not inherently spatial data formats.</p>
<p>On the other hand, take this Massachusetts municipalities dataset which we downloaded from the state government&rsquo;s open data portal and opened up in a desktop mapping software. The data comes available as a <code>shapefile</code>, which is an inherently geospatial format.</p>
<p><img src="media/1.png" alt="Screenshot of a QGIS mapping project open with a map of Massachusetts towns"></p>
<p>Because this data is spatial, GIS software can recognize it, and automatically make a map out of it.</p>
<p>The image above shows how mapping software <em>displays</em> GIS data, but what does the &ldquo;data&rdquo; actually look like? Let&rsquo;s look at the data&rsquo;s underlying <code>attribute table</code>.</p>
<p><img src="media/5.png" alt="Screenshot of the town GIS data&amp;rsquo;s underlying data table"></p>
<p>Here, we can see that for each row, which represents a single GIS <code>feature</code> (in this case, a town), there are some basic facts (each column) about that town. Included here are town name, town ID, population count, etc.</p>
<p>Besides this basic information and the geospatial polygon shapes of the towns, this dataset is not entirely useful for mapping, when it comes to showing any meaningful statistics.</p>
<p>Most of the time, the information we <em>want</em> to map, such as our example COVID rates, are not made available as shapefiles. People publish data in spreadsheets, and in order to make a map, we have to join the spreadsheets together with GIS shapefiles, using a GIS software like <a href="https://harvardmapcollection.github.io/tutorials/qgis/download/" target="_blank">QGIS</a>
.</p>
<p><img src="media/4.png" alt="Map of covid rates per town. Red for towns with higher rates than last week, yellow for lower, gray for no change.">
<em>Map of weekly Massachusetts COVID data spreadsheet from January 26, 2022, after being joined to a <a href="https://www.mass.gov/info-details/massgis-data-municipalities" target="_blank">Massachusetts municipalities shapefile</a>
 from MassGIS.</em></p>
<h2 id="how-do-joins-work">How do joins work?</h2>
<p>To perform a join, you must have a column in each dataset which contains the same literal values. Factors such as case sensitivity matter. The values must be exactly the same in both tables for the join to work.</p>
<p>When we joined the COVID spreadsheet to the Massachusetts municipalities shapefile, we used a column common to both datasets: <code>town name</code>. Column headers did not have to match, but the values inside the columns&rsquo; cells do.</p>
<h2 id="step-by-step">Step by step</h2>
<p>We wrote this tutorial as part of a course called the <a href="/tutorials/census-data-primer/">census data primer</a>
. You don&rsquo;t have to be following the course to use it.
You can:</p>
<ul>
<li>
<p>reinforce your understanding of joins and download the course data below, so you can follow along step-by-step.</p>
</li>
<li>
<p>use your own data as you read through. If you are new to GIS, your data may need some additional cleaning for it to work. If that&rsquo;s the case, make an appointment for help via <a href="mailto:maps@harvard.edu">maps@harvard.edu</a>
.</p>
</li>
</ul>
<h3 id="sample-data">Sample data</h3>
<ul>
<li><a href="https://downgit.github.io/#/home?url=https://github.com/HarvardMapCollection/tutorials/blob/main/sample-data/cambridge-tracts.geojson" target="_blank">Census tracts in Cambridge, MA</a>
.</li>
<li><a href="https://downgit.github.io/#/home?url=https://github.com/HarvardMapCollection/tutorials/blob/main/sample-data/tenure-2019.csv" target="_blank">Tenure statistics .CSV</a>

Refer to the tenure <a href="https://github.com/HarvardMapCollection/tutorials/blob/main/sample-data/tenure-2019-codebook.txt" target="_blank">codebook</a>
 to make sense of the statistical files&rsquo; structure.</li>
</ul>
<h2 id="join-steps">Join steps</h2>
<ol>
<li>
<p>Add the census tract shapes data to the QGIS document by following <a href="https://harvardmapcollection.github.io/tutorials/qgis/open-vector/" target="_blank">these steps</a>
.</p>
</li>
<li>
<p>Add the statistical tenure data to the map by following <a href="https://harvardmapcollection.github.io/tutorials/qgis/add-csv/" target="_blank">these steps</a>
.</p>
</li>
<li>
<p>Right-click the tracts layer in the layer list and select <code>Properties</code>.</p>
</li>
<li>
<p>In the menu, select <code>Joins</code>.</p>
</li>
<li>
<p>In the bottom of the wizard interface, select the green plus sign <code>Add new join</code> icon.
<img src="media/6.png" alt="Screenshot of add a new join button in QGIS"></p>
</li>
<li>
<p>Set the parameters as follows:</p>
</li>
</ol>
<blockquote>
<ul>
<li><strong>Join layer:</strong> tenure-2019</li>
<li><strong>Join field:</strong> GEOFIPS</li>
<li><strong>Target field:</strong> GEOID</li>
</ul>
</blockquote>
<ol start="7">
<li>
<p>Select the checkbox next to <code>Joined Fields</code>.</p>
</li>
<li>
<p>Scroll all the way to the bottom and check off only: <code>SE_A10060_001</code>, <code>SE_A10060_002</code>, and <code>SE_A10060_003</code>.</p>
</li>
<li>
<p>Select <code>OK</code>.</p>
</li>
<li>
<p>Select <code>Apply</code>.</p>
</li>
<li>
<p>Select <code>OK</code>.</p>
</li>
<li>
<p>Right-click the Cambridge tracts layer in the layer list and select <code>Open Attribute Table</code>.</p>
</li>
<li>
<p>Confirm the join worked by scrolling to the far-right of the attribute table and checking that fields <code>SE_A10060_001</code>, <code>SE_A10060_002</code>, and <code>SE_A10060_003</code> are populated with numerical data.</p>
</li>
</ol>
<div class="alert-danger">
 <strong>Important!</strong> Joins in the QGIS document are ephemeral and will not save unless exported. Right-click the census tracts layer, select Export → Save Features As and save the new joined dataset to preserve the join.
</div>
<div class="alert-success">
<h2>Give your feedback to improve our tutorials</h2>
<iframe src="https://docs.google.com/forms/d/e/1FAIpQLSfzy7TYqM9rRKI5TEUJVqCcIRVlPSHCktR3L_QxADrJLIPcag/viewform?usp=sf_link" width="640" height="422" frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe>
</div>
            </div>
        </div>
    </div>
</main>


</body>

<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-55D9M4Z" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

</html>